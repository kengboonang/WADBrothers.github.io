<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Map interface testing for website</title>
    <!-- Axios -->
    <script src='https://unpkg.com/axios/dist/axios.js'></script>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>
    <!-- BOOTSTRAP -->
    <link href="./css/main.min.css" rel="stylesheet">
    <!-- ICONS LIBRARY -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"/>
    <!-- Vue 3 -->
    <script src='https://cdn.jsdelivr.net/npm/vue@next'></script>
    <!-- <link rel="stylesheet" href="./templates/"> -->
    <link rel="stylesheet" href="./templates/template.css">
    <!-- access firebase -->
    <!-- reference js -->
    <script type="module" src="./map_phase3_js.js"></script>
    <style>
        /* 
        * Always set the map height explicitly to define the size of the div element
        * that contains the map. 
        */
        #map {
        height: 95%;
        width: 65%;
        }

        /* 
        * Optional: Makes the sample page fill the window. 
        */
        html,
        body {
        height: 100%;
        padding: 0;
        }
        .address{
            font-style: italic;
            }
            .description{
            text-align: justify;
            }
            .progress{
            height: 25px; 
            border-radius: 25px;
            border: 2px solid black;
            box-shadow: 0px 0px 10px lightskyblue;
            }
            .voting_buttons{
            display: flex;
            justify-content: center;
            padding-top: 10px;
            }
            .reject_btn{
            margin-right: 5px;
            }
            .vote_btn{
            margin-left: 5px;
            }

    </style>
</head>
<body>
    <div class="container-fluid">
        <div class="row sidebar-parent flex-nowrap">
            <div id="nav" class="col-auto sidebar-css">
                 <!-- SIDEBAR  -->
                <sidebar-phase3></sidebar-phase3>
            </div>

            <!-- whole site -->
            <!-- ALL OTHER CONTENT ACTIVITY COL-->
            <div class="col py-4" id="app">
                <div class="row">
                    <!-- activity list MAP COL, need to find a way to make as many for each hardcoded place -->
                    <div class="col">
                        <h1>Card Sample</h1>
                        <!-- COPY FROM HERE -->

                        <div class="card">
                            <!-- LOCATION/PLACE -->
                            <div class="card-header">
                                <span class="fs-3 fw-semibold">
                                Hongdae Shopping Street
                                </span>
                                <span class="badge rounded-pill text-bg-warning ms-1" >#Shopping</span>
                            </div>

                            <!-- BADGE & DESCRIPTION -->
                            <div class="card-body">
                                <div class="container p-0">
                                <div class="row">
                                    <div class = "col-8">
                                        <p style="font-style: italic"> 365-8 Seogyo-dong, Mapo-gu, Seoul, South Korea</p>
                                        <h6>100 SGD/100976.93 KRW per person</h6>
                                        <p class="description" style="text-align: justify;">Description included by user.     Lorem, ipsum dolor sit amet consectetur adipisicing elit. Quod consequuntur, provident magnam nobis quis autem odit, nulla inventore cumque repudiandae facere. Nisi, itaque! Odit eos libero dolorem, reprehenderit dicta illo!</p>
                                    </div>
                                    
                                    <!-- PROGRESS BAR AND VOTING BUTTONS -->
                                    <div class="col-4" id="main">
                                        <p class="pt-3">Current Votes: </p>
                                        
                                            <div class="progress">
                                                    <!-- VOTED YES -->
                                                <div id="progress_yes" class="progress-bar bg-success" role="progressbar" aria-label="voted_yes_percentage" :style="{width: voted_yes_percentage + '%' }" v-bind:aria-valuenow="voted_yes_percentage" aria-valuemin="0" aria-valuemax="100" data-bs-toggle="tooltip" data-bs-placement="top"  :data-bs-title="voted_yes_people"></div>

                                                    <!-- VOTED NO -->
                                                <div id="progress_no" class="progress-bar bg-danger" role="progressbar" aria-label="voted_no_percentage" :style="{width: voted_no_percentage + '%' }" v-bind:aria-valuenow="voted_no_percentage" aria-valuemin="0" aria-valuemax="100" data-bs-toggle="tooltip" data-bs-placement="top" :data-bs-title="voted_no_people"> </div>
                                                

                                                    <!--  VOTED MAYBE   -->
                                                <div id="progress_maybe" class="progress-bar bg-secondary" role="progressbar" aria-label="yet_to_vote_percentage" :style="{width: yet_to_vote_percentage + '%' }" v-bind:aria-valuenow="yet_to_vote_percentage" aria-valuemin="0" aria-valuemax="100" data-bs-toggle="tooltip" data-bs-placement="top" :data-bs-title="yet_to_vote_people"></div>

                                                
                                            </div>

                                        <div class="pt-3" style="display: flex; justify-content: center;">
                                        <button type="button" class="btn btn-danger btn-sm reject_btn" style="margin-right: 5px;" v-on:click="user_reject()">Reject</button>
                                        <button type="button" class="btn btn-success btn-sm vote_btn" style="margin-left: 5px;" v-on:click="user_accept()"> Vote </button>
                                        </div>
                                        
                                        
                                        <!-- Voted NO: {{ voted_no_people }}
                                        <br>
                                        Voted: YES: {{ voted_yes_people }}
                                        <br>
                                        YET TO VOTE: {{ yet_to_vote_people }} -->
                                    </div>
                                </div> 
                            
                                <!-- EDIT BUTTON -->
                                <div class="row">
                                    <div class="col-11"></div>
                                    <div class="col-1">
                                        <button type="button" class="btn btn-sm rounded btn-main text-white float-end" style="position:absolute;bottom:25px; right:15px;" data-bs-toggle="button">Edit</button>
                                    </div>
                                </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- map interface MAP COL -->
                    <div class="col" style="width: 90vw; height: 90vh" :style="{display: toggle_map()}">
                        <!-- map details -->
                        <div id="map"></div><button style="position: absolute; bottom: 0px; right: 70px;" class="btn btn-main-fixed" @click="create_true=true,edit_true=false">Create Activity</button>
                    </div>

                    <!-- collapsible card MAP COL -->
                    <div class="col" :style="{display: toggle_collapse()}">
                        <h4 class="m-5">Card Sample 1</h4>

                        <!-- FIRST ITEM (SAMPLE 1) -->
                        <!-- COPY FROM HERE -->
                        <div id="main">
                            <div class="container mb-3" v-for="(location, index) of locations">
                                <div class="accordion" id="accordionFlushExample">
                                    <div class="accordion-item" >
                                
                                                <!-- ACCORDION TITLE -->
                                                    <!-- NEED TO CHANGE ACCORD. -->
                                                <h6 class="accordion-header position-relative" :id=" 'flush-heading' + index">
                                                    <!-- CHECKBOX -->
                                                    <input class="form-check-input input-checkbox collapsed" type="checkbox" name="flexRadioDefault" :id="'flexRadioDefault' + index" style="position: absolute; top: 14px; left: 20px; z-index: 9;">
                                                    <!-- PLACE + TAG -->
                                                        <!-- NEED TO CHANGE ACCORD. -->
                                                    <button class="accordion-button collapsed ps-5 fs-6" type="button" data-bs-toggle="collapse" :data-bs-target=" '#flush-collapse' + index " aria-expanded="false" :aria-controls=" 'flush-collapse' + index">
                                                        {{ location.name}}
                                                        <span class="badge rounded-pill text-bg-warning ms-1 badge-sm">#{{ location.tag }}</span>
                                                    </button>
                                                </h6>
                                
                                                <!-- ACCORDION BODY -->
                                                    <!-- NEED TO CHANGE ACCORD. -->
                                                <div :id=" 'flush-collapse' + index" class="accordion-collapse collapse" :aria-labelledby=" 'flush-heading' + index" data-bs-parent="#accordionFlushExample">
                                                    <div class="accordion-body">
                                                        <div class="container p-0">
                                                            <div class="row">
                                                                <div class = "col-8">
                                                                    <h6>{{ location.price.sgd }} SGD/per person</h6>
                                                                    <p class="description" style="text-align: justify;">
                                                                        Description included by user. 
                                                                        {{ location.description }}
                                                                    </p>
                                                                </div>
                                                                
                                                                <!-- PROGRESS BAR AND VOTING BUTTONS -->
                                                                <div class="col-4" >
                                                                    <p class="pt-3">Current Votes: </p>
                                                                        <div class="progress">
                                                                            <!-- VOTED YES -->
                                                                            <div :id="'progress_yes' + index" class="progress-bar bg-success" role="progressbar" :aria-label=" 'voted_yes_percentage' + index" :style="{width: location.votes_percentage.yes + '%' }" v-bind:aria-valuenow="location.votes_percentage.yes" aria-valuemin="0" aria-valuemax="100" data-bs-toggle="tooltip" data-bs-placement="top"  :data-bs-title="location.votes_num.yes" data-container="body"></div>
                                
                                                                            <!-- VOTED NO -->
                                                                            <div :id="'progress_no' + index" class="progress-bar bg-danger" role="progressbar" :aria-label=" 'voted_no_percentage' + index" :style="{width: location.votes_percentage.no + '%' }" v-bind:aria-valuenow="location.votes_percentage.no" aria-valuemin="0" aria-valuemax="100" data-bs-toggle="tooltip" data-bs-placement="top" :data-bs-title="location.votes_num.no" data-container="body"></div>
                                                    
                                                                            <!--  VOTED MAYBE   -->
                                                                            <div :id="'progress_maybe' + index" class="progress-bar bg-secondary" role="progressbar" :aria-label=" 'yet_to_vote_percentage' + index" :style="{width: location.votes_percentage.yet_to_vote + '%' }" v-bind:aria-valuenow="location.votes_percentage.yet_to_vote" aria-valuemin="0" aria-valuemax="100" data-bs-toggle="tooltip" data-bs-placement="top" :data-bs-title="location.votes_num.yet_to_vote" data-container="body"></div>
                                                                        </div>
                                                                </div>

                                                            </div> 
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                </div>
                            </div>
                        </div>

                        
                    </div>

                    <!-- toggle for map view; only MAP or collapse will show -->
                    <div class='col'>
                        <input type="checkbox" id="mapview_toggle" @click="change_map_view()"> Map View
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- import scripts -->
    <script
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDT5JFriHtLwMDi3C2jZUKSDiakvePwY6g&callback=initMap&libraries=places&v=weekly"
      defer
    ></script>
    

    <!-- START OF JS IMPORTS (DO NOT ADD ANYTHING BELOW THIS LINE!) ---------------------------------------------------------------------------------------------- -->
    <!-- Font Awesome JS -->
    <script src="https://kit.fontawesome.com/c7ddd7a650.js" crossorigin="anonymous"></script>

    <!-- bootstrap js -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-u1OknCvxWvY5kfmNBILK2hRnQC3Pr17a+RTT6rIHI7NnikvbZlHgTPOOmMi466C8" crossorigin="anonymous"></script>
    
    <!-- sidebar js -->
    <script src="./templates/pages/sidebars.js"></script>

    <!-- listview js -->
    <script src="./templates/activity_card_listview/script.js"></script>
</body>
</html>