<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Activity Card in List View</title>
    <!-- CSS -->
    <link href="../template.css" rel="stylesheet">
    
    <!-- BOOTSTRAP CSS-->
    <link href="../../css/main.min.css" rel="stylesheet">

    <!-- VUE -->
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>

<!-- need FIREBASE function READ -->

</head>
<!-- ACTIVITY CARD -->
<body>
    <div class="container-fluid">
        <div class="row sidebar-parent flex-nowrap">
            <div id="nav" class="col-auto sidebar-css">
                 <!-- SIDEBAR  -->
                <sidebar-phase2></sidebar-phase2>
            </div>

            <!-- rest of site -->
            <div class="col p-4">
                <div class="row">
                    <div class="col">
                        <h1>Card Sample</h1>
                        <!-- COPY FROM HERE -->

                        <div id="main">

                            <div class="card mb-3" v-for="(location, index) in existing_locations">
                                <!-- LOCATION/PLACE -->
                                <div class="card-header">
                                    <span class="fs-3 fw-semibold">
                                    {{location.name}}
                                    </span>
                                    <span class="badge rounded-pill text-bg-warning ms-1" >#{{location.tag}}</span>
                                </div>

                               <!-- BADGE & DESCRIPTION -->
                                <div class="card-body" >
                                    <div class="container p-0">
                                    <div class="row">
                                        <div class = "col-8">
                                            <p style="font-style: italic">{{ location.address }}</p>
                                            <h6>{{ location.price.sgd }} SGD/{{ location.price.krw }} KRW per person</h6>
                                            <p class="description" style="text-align: justify;">{{ location.description }}</p>
                                        </div>
                                        
                                        <!-- PROGRESS BAR AND VOTING BUTTONS -->
                                        <div class="col-4">
                                            <p class="pt-3">Current Votes: </p>

                                            <div class="progress">
                                                <!-- VOTED YES -->
                                                <div :id="'progress_yes' + index"  class="progress-bar bg-success" role="progressbar" aria-label="voted_yes_percentage" :style="{width: get_yes_percentage(location.votes) + '%' }" v-bind:aria-valuenow="get_yes_percentage(location.votes)" aria-valuemin="0" aria-valuemax="100">YES</div>
                                                    <!-- VOTED NO -->
                                                <div :id="'progress_no' + index" class="progress-bar bg-danger" role="progressbar" aria-label="voted_no_percentage" :style="{width: get_no_percentage(location.votes) + '%' }" v-bind:aria-valuenow="get_no_percentage(location.votes)" aria-valuemin="0" aria-valuemax="100" >NO</div>
                                                
                                                    <!--  VOTED MAYBE   -->
                                                <div :id="'progress_yet_to_vote' + index" class="progress-bar bg-dark" role="progressbar" aria-label="yet_to_vote_percentage" :style="{width: get_yet_to_vote_percentage(location.votes) + '%' }" v-bind:aria-valuenow="get_yet_to_vote_percentage(location.votes)" aria-valuemin="0" aria-valuemax="100">MAYBE</div>
                                            </div>
                                            

                            
                                            <div class="pt-3" style="display: flex; justify-content: center;">
                                                <button type="button" class="btn btn-danger btn-sm reject_btn" style="margin-right: 5px;" v-on:click="user_reject(location.votes, index)">Reject</button>
                                                <button type="button" class="btn btn-success btn-sm vote_btn" style="margin-left: 5px;" v-on:click="user_accept(location.votes, index)"> Vote </button>
                                            </div>
                            
                            
                                            
                                            
                                            
                                            <!-- Voted NO: {{ voted_no_people }}
                                            <br>
                                            Voted: YES: {{ voted_yes_people }}
                                            <br>
                                            YET TO VOTE: {{ yet_to_vote_people }} -->
                                        </div>
                                    </div> 
                                
                                    <!-- EDIT BUTTON -->
                                    <div class="row">
                                        <div class="col-11"></div>
                                        <div class="col-1">
                                            <button type="button" class="btn btn-sm rounded btn-main-fixed text-white float-end" style="position:absolute;bottom:25; right:25;" data-bs-toggle="button">Edit</button>
                                        </div>
                                    </div>
                                    </div>
                                </div>
                            
                                
                            <!-- END OF CARD -->
                            </div>


                        </div>


                    </div>
                    
                <!-- ADD MAP DIV UNDER A COL HERE -->











                </div>
            </div>
        </div>
    </div>
            


    <!-- BOOTSTRAP JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3" crossorigin="anonymous"></script>
    <script type="module" src="script.js"></script>
    <!-- sidebar js -->
    <script  src="../pages/sidebars.js"></script>
</body>
</html>