<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- local css -->
    <link rel="stylesheet" href="../template.css">

    <!-- bootstrap css -->
    <link href="../../css/main.min.css" rel="stylesheet">

    <!-- Flatpickr CSS-->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">

    <!-- Vue js -->
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>

    <title>Flights</title>
</head>
<body>
    <div class="container-fluid">
        <div class="row flex-nowrap">
            <!-- sidebar -->
            <div class="col-auto col-md-3 col-xl-2 px-sm-2 px-0 bg-mild">
                <div class="d-flex flex-column align-items-center align-items-sm-start px-3 pt-2 text-white min-vh-100">
                    <a href="#" class="d-flex align-items-center pb-3 mb-md-0 me-md-auto text-dark text-decoration-none">
                        <span class="fs-5 d-none d-sm-inline fw-bold">The JAWKS-7</span>
                    </a>
                    <ul class="nav nav-pills flex-column mb-sm-auto mb-0 align-items-center align-items-sm-start" id="menu">
                        
                        <!--Home-->
                        <li class="nav-item">
                            <a href="#" class="nav-link align-middle px-0">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-house-fill" viewBox="0 0 16 16">
                                    <path fill-rule="evenodd" d="m8 3.293 6 6V13.5a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 2 13.5V9.293l6-6zm5-.793V6l-2-2V2.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5z"/>
                                    <path fill-rule="evenodd" d="M7.293 1.5a1 1 0 0 1 1.414 0l6.647 6.646a.5.5 0 0 1-.708.708L8 2.207 1.354 8.854a.5.5 0 1 1-.708-.708L7.293 1.5z"/>
                                </svg>
                                <span class="ms-1 d-none d-sm-inline">Home</span>
                            </a>
                        </li>

                        <!--Activities-->
                        <li>
                            <a href="#submenu1" data-bs-toggle="collapse" class="nav-link px-0 align-middle ">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-universal-access" viewBox="0 0 16 16">
                                    <path d="M9.5 1.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0ZM6 5.5l-4.535-.442A.531.531 0 0 1 1.531 4H14.47a.531.531 0 0 1 .066 1.058L10 5.5V9l.452 6.42a.535.535 0 0 1-1.053.174L8.243 9.97c-.064-.252-.422-.252-.486 0l-1.156 5.624a.535.535 0 0 1-1.053-.174L6 9V5.5Z"/>
                                </svg>
                                   <span class="ms-1 d-none d-sm-inline">Activities</span>
                                </a>

                            <ul class="collapse nav flex-column ms-1" id="submenu1" data-bs-parent="#menu">
                                <li class="w-100">
                                    <a href="#" class="nav-link px-0"> 
                                        <span class="d-none d-sm-inline">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-return-right" viewBox="0 0 16 16">
                                                <path fill-rule="evenodd" d="M1.5 1.5A.5.5 0 0 0 1 2v4.8a2.5 2.5 0 0 0 2.5 2.5h9.793l-3.347 3.346a.5.5 0 0 0 .708.708l4.2-4.2a.5.5 0 0 0 0-.708l-4-4a.5.5 0 0 0-.708.708L13.293 8.3H3.5A1.5 1.5 0 0 1 2 6.8V2a.5.5 0 0 0-.5-.5z"/>
                                            </svg>
                                          Map
                                        </span></a>
                                </li>
                                <li>
                                    <a href="#" class="nav-link px-0"> 
                                        <span class="d-none d-sm-inline">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-return-right" viewBox="0 0 16 16">
                                                <path fill-rule="evenodd" d="M1.5 1.5A.5.5 0 0 0 1 2v4.8a2.5 2.5 0 0 0 2.5 2.5h9.793l-3.347 3.346a.5.5 0 0 0 .708.708l4.2-4.2a.5.5 0 0 0 0-.708l-4-4a.5.5 0 0 0-.708.708L13.293 8.3H3.5A1.5 1.5 0 0 1 2 6.8V2a.5.5 0 0 0-.5-.5z"/>
                                            </svg>
                                          List
                                        </span>
                                    </a>
                                </li>
                                <li>
                                    <a href="#" class="nav-link px-0"> 
                                        <span class="d-none d-sm-inline">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-return-right" viewBox="0 0 16 16">
                                                <path fill-rule="evenodd" d="M1.5 1.5A.5.5 0 0 0 1 2v4.8a2.5 2.5 0 0 0 2.5 2.5h9.793l-3.347 3.346a.5.5 0 0 0 .708.708l4.2-4.2a.5.5 0 0 0 0-.708l-4-4a.5.5 0 0 0-.708.708L13.293 8.3H3.5A1.5 1.5 0 0 1 2 6.8V2a.5.5 0 0 0-.5-.5z"/>
                                            </svg>
                                          Lodging
                                        </span>
                                    </a>
                                </li>
                            </ul>
            
                        <li>
                            <a href="#" class="nav-link px-0 align-middle">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-wallet" viewBox="0 0 16 16">
                                    <path d="M0 3a2 2 0 0 1 2-2h13.5a.5.5 0 0 1 0 1H15v2a1 1 0 0 1 1 1v8.5a1.5 1.5 0 0 1-1.5 1.5h-12A2.5 2.5 0 0 1 0 12.5V3zm1 1.732V12.5A1.5 1.5 0 0 0 2.5 14h12a.5.5 0 0 0 .5-.5V5H2a1.99 1.99 0 0 1-1-.268zM1 3a1 1 0 0 0 1 1h12V2H2a1 1 0 0 0-1 1z"/>
                                  </svg>
                                  <span class="ms-1 d-none d-sm-inline">Budget</span></a>
                        </li>
                    </ul>
                    <hr>
                    <div>
                        <a class="btn btn-danger d-none d-sm-inline" href="#" role="button">Confirm Activities</a>
                    </div>
                    <hr>

                    <div class="dropdown pb-4">
                        <a href="#" class="d-flex align-items-center text-success text-decoration-none dropdown-toggle" id="dropdownUser1" data-bs-toggle="dropdown" aria-expanded="false">
                            <img src="https://upload.wikimedia.org/wikipedia/commons/3/33/Mr._Bean_2011.jpg" alt="profilepic" width="30" height="30" class="rounded-circle">
                            <span class="d-none d-sm-inline mx-1">Bean</span>
                        </a>
                        <ul class="dropdown-menu dropdown-menu-dark text-small shadow" aria-labelledby="dropdownUser1">
                            <li><a class="dropdown-item" href="#">My Trips</a></li>
                            <li><a class="dropdown-item" href="#">Settings</a></li>
                            <li><a class="dropdown-item" href="#">Profile</a></li>
                            <li>
                                <hr class="dropdown-divider">
                            </li>
                            <li><a class="dropdown-item" href="#">Sign out</a></li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- all page content goes in here -->
            <div class="col" id="flight_app">
                <!-- create button -->
                <div class="row my-3 justify-content-end">
                    <div class="col-md-3 d-flex justify-content-center">
                        <button class="btn btn-main">Create New Flight</button>
                    </div>
                </div>

                <!-- create all flight items -->
                <div class="row" v-for="e_flight_obj of flight_obj_arr">
                    <div class="container-md text-dark bg-mild rounded-4 py-3 position-relative my-2 fs-6">
                        <form action="#">
                            <!-- flight title & departure & arrival country -->
                            <div class="row justify-content-center align-items-center mt-3 mb-5">
                                <div class="col-md-4 text-md-start text-center">
                                    <h2 class="ms-md-5">Flight {{e_flight_obj.ID}}</h2>
                                </div>
                
                                <!-- 1&2. Departure and Arrival country -->
                                <div class="col-md-8">
                                    <div class="row align-items-center">
                                        <div class="col-5">
                                            <h4 class="my-auto text-end">Departure Country</h4>
                                        </div>
                        
                                        <!-- flight icon -->
                                        <div class="col-2 text-center">
                                            <i class="fa-solid fa-arrow-right fa-2xl d-md-block d-none"></i>
                                            <i class="fa-solid fa-arrow-right d-md-none d-md-block"></i>
                                        </div>
                        
                                        <!-- 2. Arrival country -->
                                        <div class="col-5">
                                            <h4 class="my-auto">Arrival Country</h4>
                                        </div>
                                    </div>
                                </div>
                            </div>
                
                            <!-- departure & arrival info -->
                            <div class="row mb-3 justify-content-center">
                                <div class="col-3">
                                    <p><i class="fa-solid fa-hourglass-half fa-lg"></i>
                                    &nbsp;{{duration_hours}}hr {{duration_minutes}}min
                
                                    <i class="fa-solid fa-money-bill fa-lg ms-3"></i>&nbsp;{{price}}{{currency}}</p>
                                </div>
                
                                <div class="col-md-4">
                                    <div class="d-flex justify-content-evenly">
                                        <div class="d-inline-block">
                                            <h4 class="fw-bold my-auto">DEP</h4>
                                        </div>
                                        <!-- 3. Departure time -->
                                        <div class="d-inline-block">
                                            <p class="my-auto"><span class="fw-semibold">{{convert_datetime_readable(depart_datetime)}}</span><br><span class="fst-italic">{{depart_tz}}</span></p>
                                        </div>
                                    </div>
                                </div>
                
                                <div class="col-md-4">
                                    <div class="d-flex justify-content-evenly">
                                        <div class="d-inline-block">
                                            <h4 class="fw-bold my-auto">ARR</h4>
                                        </div>
                                        <!-- 4. Arrival time -->
                                        <div class="d-inline-block">
                                            <p class="my-auto"><span class="fw-semibold">{{convert_datetime_readable(arrive_datetime)}}</span><br><span class="fst-italic">{{arrive_tz}}</span></p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="col-3">
                                <button class="btn btn-mild2 my-2 ms-md-5" type="button" data-bs-toggle="collapse" data-bs-target="#flightX_dropdown" aria-expanded="false" aria-controls="flightX_dropdown" @click="toggle_dropdown()">
                                    <i v-if="!dropdown_open" class="fa-solid fa-chevron-down fa-sm"></i>
                                    <i v-if="dropdown_open" class="fa-solid fa-chevron-up fa-sm"></i>
                                </button>
                            </div>
                
                            
                            <!-- collapsable -->
                            <div class="collapse mx-md-5 pb-5" id="flightX_dropdown">
                                <hr class="bg-dark">
                                <div class="row g-3 mt-2">
                                    <div class="col-md-4 col-sm-6">
                                        <!-- airline -->
                                        <p class="d-inline ms-2 fs-5"><span class="fw-semibold">Airline:</span> {{airline}}</p>
                                    </div>
                                    <div class="col-md-4 col-sm-6">
                                        <!-- flight no -->
                                        <p class="d-inline ms-2 fs-5"><span class="fw-semibold">Flight No:</span> {{flight_no}}</p>
                                    </div>
                                    <div class="col-md-4 col-sm-6">
                                        <!-- airport -->
                                        <p class="d-inline ms-2 fs-5"><span class="fw-semibold">Airport:</span> {{airport}}</p>
                                    </div>
                                    <div class="col-md-4 col-sm-6">
                                        <!-- terminal -->
                                        <p class="d-inline ms-2 fs-5"><span class="fw-semibold">Terminal:</span> {{terminal}}</p>
                                    </div>
                                    <div class="col-md-4 col-sm-6">
                                        <!-- gate number -->
                                        <p class="d-inline ms-2 fs-5"><span class="fw-semibold">Gate:</span> {{gate}}</p>
                                    </div>
                                </div>
                            </div>
                
                            <div class="save-btn-div-flight-page justify-content-end">
                                <button type="button" class="btn btn-main-bold-fixed">Edit</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <!-- START OF JS IMPORTS (DO NOT ADD ANYTHING BELOW THIS LINE!) ---------------------------------------------------------------------------------------------- -->
    <!-- AXIOS import -->
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    
    <!-- Font Awesome JS -->
    <script src="https://kit.fontawesome.com/c7ddd7a650.js" crossorigin="anonymous"></script>
    
    <!-- bootstrap js -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-u1OknCvxWvY5kfmNBILK2hRnQC3Pr17a+RTT6rIHI7NnikvbZlHgTPOOmMi466C8" crossorigin="anonymous"></script>
    
    <!-- Flatpickr JS -->
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>

    <!-- local js import -->
    <script src="flight_page.js"></script>

    <script src="country-list.js"></script> <!-- List of currencies -->
    <script src="script.js"></script>
</body>
</html>